# PEP 440 -- 版本标识和依赖指定
+ translator: github.com/shendeguize
+ original link: [https://www.python.org/dev/peps/pep-0440/](https://www.python.org/dev/peps/pep-0440/)
+ update date: 2020.12.22

## 摘要
本篇PEP描述了一个用于明确Python软件发布版本以及明确了对于特定版本依赖的规范.

本文档描述了此前标准(PEP345和PEP386)中对于版本规范的要求中的一些局限性.

## 定义
本文中所提及的关键字含义可参考[RFC 2119](https://tools.ietf.org/html/rfc2119.html):  
关键字包括: "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", 和"OPTIONAL".

"项目(Project)"指可用于继承的软件组件.Projects包括Python库,框架,脚本,插件,应用,数据容器,或其他资源等,以及上述内容的各种组合.公共Python项目常注册于[Pypi](https://pypi.org/).

"发布(Release)"专指一个项目的某一特定快照.

"发布(Distributions)"指被打包好用于发布release的文件.

"构建工具(Build tools)"是用于开发系统,生产资源和二进制分发包库中运行的自动化工具.构建工具也可被集成工具唤起以构建以sdist发布而非预建的二进制归档发布的软件.

"索引服务器(Index servers)"是活动的且带有发布版本和依赖数据的并对允许的元数据有限定的发布注册.

"发布工具(Publication tools)"是用于在开发系统上运行,将资源和二进制发布包上传至索引服务器的自动化工具.

"安装工具(Installation tools)"是专用于在部署目标上运行,使用从索引服务器或其他指定位置上获得的资源和二进制分发包部署到目标系统上的集成工具.

"自动化工具(Automated tools)"是一个描述范围包括了构建工具,索引服务器,发布工具,集成工具和其他任何生产和使用发布版本及其依赖元数据的软件的综合术语.

## 版本规约
每一发布版本都可由一个公共的版本识别器来识别,这一识别器支持所有定义好的版本比较操作.

这篇版本规约用于描述一个特定发布提供的发布版本,也用于约束构建或运行软件时的所需依赖的版本.

### 公共版本识别
典型的公共版本识别器必须(MUST)符合下述规约格式:

```
[N!]N(.N)*[{a|b|rc}N][.postN][.devN]
```

公共版本识别器不允许(MUST NOT)包含起始或结尾空格.

公共版本识别器必须(MUST)对与某一给定发布版本是独一无二的.

安装工具应该(SHOULD)忽略任何不符合本篇规约的版本号.但必须(MUST)包含下述的特定标准.安装工具可以(MAY)在检测到不兼容或者有歧义的版本时警告用户.

参见*附录B: 使用正则表达式解析版本字符串(Parsing version strings with regular expressions)*,这篇附录提供了一个用于检查对于典型范式的严格复合型检查的正则表达式.也提供了一个更宽容的正则表达式,这一表达式后续可能会需要额外规范作输入.

公共版本识别器被分为下述五部分:
+ 版本号(Epoch): N!
+ 发布号(Release): N(.N)*
+ 预发布号(Pre-release): {a|b|rc}N
+ 后发布号(Post-release): .postN
+ 开发版本号(Development): .devN
